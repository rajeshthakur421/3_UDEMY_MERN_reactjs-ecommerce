{"ast":null,"code":"var _jsxFileName = \"/home/rudransh/public_html/MERN/react-node-ecommerce-front/src/admin/updateCategory.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Layout from '../core/Layout';\nimport { isAuthenticated } from '../auth';\nimport { Link, Redirect } from 'react-router-dom';\nimport { getCategory, updateCategory } from './apiAdmin';\n// {category: [\"5cd0258f2793ec6e100bc191\"], price: []}\n// http://localhost:3000/admin/category/update/5cd0258f2793ec6e100bc191\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UpdateCategory = _ref => {\n  _s();\n  let {\n    match\n  } = _ref;\n  const [values, setValues] = useState({\n    name: '',\n    error: '',\n    redirectToProfile: false,\n    formData: ''\n  });\n\n  // destructure user and token from localStorage\n  const {\n    user,\n    token\n  } = isAuthenticated();\n  const {\n    name,\n    error,\n    redirectToProfile\n  } = values;\n  const init = categoryId => {\n    getCategory(categoryId, token).then(data => {\n      if (data.error) {\n        setValues({\n          ...values,\n          error: data.error\n        });\n      } else {\n        // populate the state\n        setValues({\n          ...values,\n          name: data.name\n        });\n      }\n    });\n  };\n  useEffect(() => {\n    init(match.params.categoryId);\n  }, []);\n  const handleChange = name => event => {\n    setValues({\n      ...values,\n      error: false,\n      [name]: event.target.value\n    });\n  };\n  const submitCategoryForm = e => {\n    e.preventDefault();\n    // update with ? you should send category name otherwise what to update?\n    const category = {\n      name: name\n    };\n    updateCategory(match.params.categoryId, user._id, token, category).then(data => {\n      if (data.error) {\n        setValues({\n          ...values,\n          error: data.error\n        });\n      } else {\n        setValues({\n          ...values,\n          name: data.name,\n          error: false,\n          redirectToProfile: true\n        });\n      }\n    });\n  };\n  const updateCategoryForm = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrap-login100 p-l-85 p-r-85 p-t-55 p-b-55\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"mb-5\",\n      onSubmit: submitCategoryForm,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"login100-form-title p-b-32 m-b-7\",\n        children: \"Update Category Form\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"txt1 p-b-11\",\n        children: \"Category Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrap-input100 validate-input m-b-36\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleChange('name'),\n          value: name,\n          className: \"input100\",\n          type: \"text\",\n          required: true,\n          name: \"name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-size25\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"flex-c-m size2 bg1 bo-rad-23 hov1 m-text3 trans-0-4\",\n          children: \"Save Changes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n  const showError = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: 'alert alert-danger',\n    role: \"alert\",\n    style: {\n      display: error ? '' : 'none'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      className: \"close\",\n      \"data-dismiss\": \"alert\",\n      \"aria-label\": \"Close\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        \"aria-hidden\": \"true\",\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this), error]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 9\n  }, this);\n  const redirectUser = () => {\n    if (redirectToProfile) {\n      if (!error) {\n        return /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/admin/category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 24\n        }, this);\n      }\n    }\n  };\n  const goBackBTN = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-5\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/admin/category\",\n        className: \"text-info\",\n        children: \"Back To Admin Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    title: `Hi ${user.name}`,\n    description: `This is Update Product Action Page`,\n    className: \"container-fluid\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-8 offset-md-2 m-b-250 mb-5\",\n        children: [showError(), updateCategoryForm(), goBackBTN(), redirectUser()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 9\n  }, this);\n};\n_s(UpdateCategory, \"0JPo379STh4q9hmDL9mQbPMgO90=\");\n_c = UpdateCategory;\nexport default UpdateCategory;\nvar _c;\n$RefreshReg$(_c, \"UpdateCategory\");","map":{"version":3,"names":["React","useState","useEffect","Layout","isAuthenticated","Link","Redirect","getCategory","updateCategory","jsxDEV","_jsxDEV","UpdateCategory","_ref","_s","match","values","setValues","name","error","redirectToProfile","formData","user","token","init","categoryId","then","data","params","handleChange","event","target","value","submitCategoryForm","e","preventDefault","category","_id","updateCategoryForm","className","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","onChange","type","required","showError","role","style","display","redirectUser","to","goBackBTN","title","description","_c","$RefreshReg$"],"sources":["/home/rudransh/public_html/MERN/react-node-ecommerce-front/src/admin/updateCategory.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Layout from '../core/Layout';\nimport { isAuthenticated } from '../auth';\nimport { Link, Redirect } from 'react-router-dom';\nimport { getCategory, updateCategory } from './apiAdmin';\n// {category: [\"5cd0258f2793ec6e100bc191\"], price: []}\n// http://localhost:3000/admin/category/update/5cd0258f2793ec6e100bc191\nconst UpdateCategory = ({ match }) => {\n    const [values, setValues] = useState({\n        name: '',\n        error: '',\n        redirectToProfile: false,\n        formData: ''\n    });\n\n    // destructure user and token from localStorage\n    const { user, token } = isAuthenticated();\n\n    const { name, error, redirectToProfile } = values;\n\n    const init = categoryId => {\n        getCategory(categoryId, token).then(data => {\n            if (data.error) {\n                setValues({ ...values, error: data.error });\n            } else {\n                // populate the state\n                setValues({\n                    ...values,\n                    name: data.name\n                });\n            }\n        });\n    };\n\n    useEffect(() => {\n        init(match.params.categoryId);\n    }, []);\n\n    const handleChange = name => event => {\n        setValues({ ...values, error: false, [name]: event.target.value });\n    };\n\n    const submitCategoryForm = e => {\n        e.preventDefault();\n        // update with ? you should send category name otherwise what to update?\n        const category = {\n            name: name\n        };\n        updateCategory(match.params.categoryId, user._id, token, category).then(data => {\n            if (data.error) {\n                setValues({ ...values, error: data.error });\n            } else {\n                setValues({\n                    ...values,\n                    name: data.name,\n                    error: false,\n                    redirectToProfile: true\n                });\n            }\n        });\n    };\n\n    const updateCategoryForm = () => (\n        <div className=\"wrap-login100 p-l-85 p-r-85 p-t-55 p-b-55\">\n            <form className=\"mb-5\" onSubmit={submitCategoryForm}>\n                <span className=\"login100-form-title p-b-32 m-b-7\">Update Category Form</span>\n                <span className=\"txt1 p-b-11\">Category Name</span>\n                <br />\n                <br />\n                <div className=\"wrap-input100 validate-input m-b-36\">\n                    <input\n                        onChange={handleChange('name')}\n                        value={name}\n                        className=\"input100\"\n                        type=\"text\"\n                        required\n                        name=\"name\"\n                    />\n                </div>\n                <div className=\"w-size25\">\n                    <button type=\"submit\" className=\"flex-c-m size2 bg1 bo-rad-23 hov1 m-text3 trans-0-4\">\n                        Save Changes\n                    </button>\n                </div>\n            </form>\n        </div>\n    );\n\n    const showError = () => (\n        <div className={'alert alert-danger'} role=\"alert\" style={{ display: error ? '' : 'none' }}>\n            <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;</span>\n            </button>\n            {error}\n        </div>\n    );\n\n    const redirectUser = () => {\n        if (redirectToProfile) {\n            if (!error) {\n                return <Redirect to=\"/admin/category\" />;\n            }\n        }\n    };\n\n    const goBackBTN = () => {\n        return (\n            <div className=\"mt-5\">\n                <Link to=\"/admin/category\" className=\"text-info\">\n                    Back To Admin Home\n                </Link>\n            </div>\n        );\n    };\n\n    return (\n        <Layout\n            title={`Hi ${user.name}`}\n            description={`This is Update Product Action Page`}\n            className=\"container-fluid\"\n        >\n            <div className=\"row\">\n                <div className=\"col-md-8 offset-md-2 m-b-250 mb-5\">\n                    {showError()}\n                    {updateCategoryForm()}\n                    {goBackBTN()}\n                    {redirectUser()}\n                </div>\n            </div>\n        </Layout>\n    );\n};\n\nexport default UpdateCategory;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}