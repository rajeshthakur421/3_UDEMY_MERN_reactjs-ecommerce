{"ast":null,"code":"import _slicedToArray from \"/home/rudransh/public_html/react-node-ecommerce-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/rudransh/public_html/react-node-ecommerce-front/src/admin/ManageProducts.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\nimport { getProducts, deleteProduct } from \"./apiAdmin\"; // import  adminLinks  from \"../user/AdminDashboard\";\n\nimport DashboardMenu from \"../user/DashboardMenu\";\n\nconst ManageProducts = () => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        products = _useState2[0],\n        setProducts = _useState2[1];\n\n  const _isAuthenticated = isAuthenticated(),\n        user = _isAuthenticated.user,\n        token = _isAuthenticated.token;\n\n  const loadProducts = () => {\n    getProducts().then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setProducts(data);\n      }\n    });\n  };\n\n  const destroy = productId => {\n    deleteProduct(productId, user._id, token).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        loadProducts();\n      }\n    });\n  };\n\n  useEffect(() => {\n    loadProducts();\n  }, []);\n  return React.createElement(Layout, {\n    title: \"Manage Products\",\n    description: \"Perform CRUD on products\",\n    className: \"container-fluid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \" \", DashboardMenu(), \" \"), React.createElement(\"div\", {\n    className: \"col-9\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    className: \"text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"Total \", products.length, \"products \"), \"  \", React.createElement(Link, {\n    className: \"nav-link\",\n    to: \"/create / product \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"Create Product \"), \" \", React.createElement(\"ul\", {\n    className: \"list-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \" \", products.map((p, i) => React.createElement(\"li\", {\n    key: i,\n    className: \"list-group-item d-flex justify-content-between align-items-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, \" \", p.name, \" \"), \" \", React.createElement(Link, {\n    to: \"/admin/product/update/\".concat(p._id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"badge badge-warning badge-pill\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"Update \"), \" \"), \" \", React.createElement(\"span\", {\n    onClick: () => destroy(p._id),\n    className: \"badge badge-danger badge-pill\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \"Delete \"), \" \")), \" \"), \" \", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  })), \" \"), \" \");\n};\n\nexport default ManageProducts;","map":{"version":3,"sources":["/home/rudransh/public_html/react-node-ecommerce-front/src/admin/ManageProducts.js"],"names":["React","useState","useEffect","Layout","isAuthenticated","Link","getProducts","deleteProduct","DashboardMenu","ManageProducts","products","setProducts","user","token","loadProducts","then","data","error","console","log","destroy","productId","_id","length","map","p","i","name"],"mappings":"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","sourcesContent":["import React, {\n    useState,\n    useEffect\n} from \"react\";\nimport Layout from \"../core/Layout\";\nimport {\n    isAuthenticated\n} from \"../auth\";\nimport {\n    Link\n} from \"react-router-dom\";\nimport {\n    getProducts,\n    deleteProduct\n} from \"./apiAdmin\";\n// import  adminLinks  from \"../user/AdminDashboard\";\nimport DashboardMenu from \"../user/DashboardMenu\";\n\nconst ManageProducts = () => {\n    const [products, setProducts] = useState([]);\n\n    const {\n        user,\n        token\n    } = isAuthenticated();\n\n\n    const loadProducts = () => {\n        getProducts().then(data => {\n            if (data.error) {\n                console.log(data.error);\n            } else {\n                setProducts(data);\n            }\n        });\n    };\n\n    const destroy = productId => {\n        deleteProduct(productId, user._id, token).then(data => {\n            if (data.error) {\n                console.log(data.error);\n            } else {\n                loadProducts();\n            }\n        });\n    };\n\n    useEffect(() => {\n        loadProducts();\n    }, []);\n\n    return ( <\n        Layout title = \"Manage Products\"\n        description = \"Perform CRUD on products\"\n        className = \"container-fluid\" >\n        <\n        div className = \"row\" >\n        <\n        div className = \"col-3\" > {\n            DashboardMenu()\n        } < /div>\n\n        <\n        div className = \"col-9\" >\n\n        <\n        h2 className = \"text-center\" >\n        Total {\n            products.length\n        }\n        products <\n        /h2>  <Link className=\"nav-link\" to=\"/create / product \">\n        Create Product <\n        /Link> <\n        ul className = \"list-group\" > {\n            products.map((p, i) => ( <\n                li key = {\n                    i\n                }\n                className = \"list-group-item d-flex justify-content-between align-items-center\" >\n                <\n                strong > {\n                    p.name\n                } < /strong> <\n                Link to = {\n                    `/admin/product/update/${p._id}`\n                } >\n                <\n                span className = \"badge badge-warning badge-pill\" >\n                Update <\n                /span> <\n                /Link> <\n                span onClick = {\n                    () => destroy(p._id)\n                }\n                className = \"badge badge-danger badge-pill\" >\n                Delete <\n                /span> <\n                /li>\n            ))\n        } <\n        /ul> <\n        br / >\n        <\n        /div> <\n        /div> <\n        /Layout>\n    );\n};\n\nexport default ManageProducts;"]},"metadata":{},"sourceType":"module"}