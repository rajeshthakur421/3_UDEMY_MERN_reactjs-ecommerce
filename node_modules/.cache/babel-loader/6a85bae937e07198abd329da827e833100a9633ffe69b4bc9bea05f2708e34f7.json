{"ast":null,"code":"var _jsxFileName = \"/home/rudransh/public_html/MERN/react-node-ecommerce-front/src/user/Signin.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport Layout from \"../core/Layout\";\nimport { signin, authenticate, isAuthenticated } from \"../auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Signin = () => {\n  _s();\n  const [values, setValues] = useState({\n    email: \"ryan@gmail.com\",\n    password: \"rrrrrr9\",\n    error: \"\",\n    loading: false,\n    redirectToReferrer: false\n  });\n  const {\n    email,\n    password,\n    loading,\n    error,\n    redirectToReferrer\n  } = values;\n  const {\n    user\n  } = isAuthenticated();\n  const handleChange = name => event => {\n    setValues({\n      ...values,\n      error: false,\n      [name]: event.target.value\n    });\n  };\n  const clickSubmit = event => {\n    event.preventDefault();\n    setValues({\n      ...values,\n      error: false,\n      loading: true\n    });\n    signin({\n      email,\n      password\n    }).then(data => {\n      if (data.error) {\n        setValues({\n          ...values,\n          error: data.error,\n          loading: false\n        });\n      } else {\n        authenticate(data, () => {\n          setValues({\n            ...values,\n            redirectToReferrer: true\n          });\n        });\n      }\n    });\n  };\n  const signUpForm = () => /*#__PURE__*/_jsxDEV(\"form\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"text-muted\",\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleChange(\"email\"),\n        type: \"email\",\n        className: \"form-control\",\n        value: email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"text-muted\",\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleChange(\"password\"),\n        type: \"password\",\n        className: \"form-control\",\n        value: password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: clickSubmit,\n      className: \"btn btn-primary\",\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n  const showError = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"alert alert-danger\",\n    style: {\n      display: error ? \"\" : \"none\"\n    },\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n  const showLoading = () => loading && /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"alert alert-info\",\n    children: /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 13\n  }, this);\n  const redirectUser = () => {\n    if (redirectToReferrer) {\n      if (user && user.role === 1) {\n        return /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/admin/dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 24\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/user/dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 24\n        }, this);\n      }\n    }\n    if (isAuthenticated()) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 20\n      }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    title: \"Signin\",\n    description: \"Signin to Node React E-commerce App\",\n    className: \"container col-md-8 offset-md-2\",\n    children: [showLoading(), showError(), signUpForm(), redirectUser()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 9\n  }, this);\n};\n_s(Signin, \"7stkhTAh4TWOlV14X7LBnXqoLS0=\");\n_c = Signin;\nexport default Signin;\nvar _c;\n$RefreshReg$(_c, \"Signin\");","map":{"version":3,"names":["React","useState","Redirect","Layout","signin","authenticate","isAuthenticated","jsxDEV","_jsxDEV","Signin","_s","values","setValues","email","password","error","loading","redirectToReferrer","user","handleChange","name","event","target","value","clickSubmit","preventDefault","then","data","signUpForm","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onChange","type","onClick","showError","style","display","showLoading","redirectUser","role","to","title","description","_c","$RefreshReg$"],"sources":["/home/rudransh/public_html/MERN/react-node-ecommerce-front/src/user/Signin.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport Layout from \"../core/Layout\";\nimport { signin, authenticate, isAuthenticated } from \"../auth\";\n\nconst Signin = () => {\n    const [values, setValues] = useState({\n        email: \"ryan@gmail.com\",\n        password: \"rrrrrr9\",\n        error: \"\",\n        loading: false,\n        redirectToReferrer: false\n    });\n\n    const { email, password, loading, error, redirectToReferrer } = values;\n    const { user } = isAuthenticated();\n\n    const handleChange = name => event => {\n        setValues({ ...values, error: false, [name]: event.target.value });\n    };\n\n    const clickSubmit = event => {\n        event.preventDefault();\n        setValues({ ...values, error: false, loading: true });\n        signin({ email, password }).then(data => {\n            if (data.error) {\n                setValues({ ...values, error: data.error, loading: false });\n            } else {\n                authenticate(data, () => {\n                    setValues({\n                        ...values,\n                        redirectToReferrer: true\n                    });\n                }); \n            }\n        });\n    };\n\n    const signUpForm = () => (\n        <form>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Email</label>\n                <input\n                    onChange={handleChange(\"email\")}\n                    type=\"email\"\n                    className=\"form-control\"\n                    value={email}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Password</label>\n                <input\n                    onChange={handleChange(\"password\")}\n                    type=\"password\"\n                    className=\"form-control\"\n                    value={password}\n                />\n            </div>\n            <button onClick={clickSubmit} className=\"btn btn-primary\">\n                Submit\n            </button>\n        </form>\n    );\n\n    const showError = () => (\n        <div\n            className=\"alert alert-danger\"\n            style={{ display: error ? \"\" : \"none\" }}\n        >\n            {error}\n        </div>\n    );\n\n    const showLoading = () =>\n        loading && (\n            <div className=\"alert alert-info\">\n                <h2>Loading...</h2>\n            </div>\n        );\n\n    const redirectUser = () => {\n        if (redirectToReferrer) {\n            if (user && user.role === 1) {\n                return <Redirect to=\"/admin/dashboard\" />;\n            } else {\n                return <Redirect to=\"/user/dashboard\" />;\n            }\n        }\n        if (isAuthenticated()) {\n            return <Redirect to=\"/\" />;\n        }\n    };\n\n    return (\n        <Layout\n            title=\"Signin\"\n            description=\"Signin to Node React E-commerce App\"\n            className=\"container col-md-8 offset-md-2\"\n        >\n            {showLoading()}\n            {showError()}\n            {signUpForm()}\n            {redirectUser()}\n        </Layout>\n    );\n};\n\nexport default Signin;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}