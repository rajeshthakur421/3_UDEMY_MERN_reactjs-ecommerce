{"ast":null,"code":"var _jsxFileName = \"/home/rudransh/public_html/MERN/react-node-ecommerce-front/src/core/Card.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport ShowImage from './ShowImage';\nimport moment from 'moment';\nimport { addItem, updateItem, removeItem } from './cartHelpers';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Card = _ref => {\n  _s();\n  let {\n    product,\n    showViewProductButton = true,\n    showAddToCartButton = true,\n    cartUpdate = false,\n    showRemoveProductButton = false,\n    setRun = f => f,\n    run = undefined\n    // changeCartSize\n  } = _ref;\n  const [redirect, setRedirect] = useState(false);\n  const [count, setCount] = useState(product.count);\n  const showViewButton = showViewProductButton => {\n    return showViewProductButton && /*#__PURE__*/_jsxDEV(Link, {\n      to: `/product/${product._id}`,\n      className: \"mr-2\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-outline-primary mt-2 mb-2 card-btn-1\",\n        children: \"View Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 9\n    }, this);\n  };\n  const addToCart = () => {\n    // console.log('added');\n    addItem(product, setRedirect(true));\n  };\n  const shouldRedirect = redirect => {\n    if (redirect) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 14\n      }, this);\n    }\n  };\n  const showAddToCartBtn = showAddToCartButton => {\n    return showAddToCartButton && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: addToCart,\n      className: \"btn btn-outline-warning mt-2 mb-2 card-btn-1  \",\n      children: \"Add to cart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this);\n  };\n  const showStock = quantity => {\n    return quantity > 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"badge badge-primary badge-pill\",\n      children: \"In Stock \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"badge badge-primary badge-pill\",\n      children: \"Out of Stock \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this);\n  };\n  const handleChange = productId => event => {\n    setRun(!run); // run useEffect in parent Cart\n    setCount(event.target.value < 1 ? 1 : event.target.value);\n    if (event.target.value >= 1) {\n      updateItem(productId, event.target.value);\n    }\n  };\n  const showCartUpdateOptions = cartUpdate => {\n    return cartUpdate && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group-prepend\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"input-group-text\",\n            children: \"Adjust Quantity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          className: \"form-control\",\n          value: count,\n          onChange: handleChange(product._id)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this);\n  };\n  const showRemoveButton = showRemoveProductButton => {\n    return showRemoveProductButton && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        removeItem(product._id);\n        setRun(!run); // run useEffect in parent Cart\n      },\n\n      className: \"btn btn-outline-danger mt-2 mb-2\",\n      children: \"Remove Product\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card \",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-header card-header-1 \",\n      children: product.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-body\",\n      children: [shouldRedirect(redirect), /*#__PURE__*/_jsxDEV(ShowImage, {\n        item: product,\n        url: \"product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"card-p  mt-2\",\n        children: [product.description.substring(0, 100), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"card-p black-10\",\n        children: [\"$ \", product.price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"black-9\",\n        children: [\"Category: \", product.category && product.category.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"black-8\",\n        children: [\"Added on \", moment(product.createdAt).fromNow()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), showStock(product.quantity), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), showViewButton(showViewProductButton), showAddToCartBtn(showAddToCartButton), showRemoveButton(showRemoveProductButton), showCartUpdateOptions(cartUpdate)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n};\n_s(Card, \"z+WSi6UhaJlD8BfybXpghgoDNxI=\");\n_c = Card;\nexport default Card;\nvar _c;\n$RefreshReg$(_c, \"Card\");","map":{"version":3,"names":["React","useState","Link","Redirect","ShowImage","moment","addItem","updateItem","removeItem","jsxDEV","_jsxDEV","Card","_ref","_s","product","showViewProductButton","showAddToCartButton","cartUpdate","showRemoveProductButton","setRun","f","run","undefined","redirect","setRedirect","count","setCount","showViewButton","to","_id","className","children","fileName","_jsxFileName","lineNumber","columnNumber","addToCart","shouldRedirect","showAddToCartBtn","onClick","showStock","quantity","handleChange","productId","event","target","value","showCartUpdateOptions","type","onChange","showRemoveButton","name","item","url","description","substring","price","category","createdAt","fromNow","_c","$RefreshReg$"],"sources":["/home/rudransh/public_html/MERN/react-node-ecommerce-front/src/core/Card.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport ShowImage from './ShowImage';\nimport moment from 'moment';\nimport { addItem, updateItem, removeItem } from './cartHelpers';\n\nconst Card = ({\n  product,\n  showViewProductButton = true,\n  showAddToCartButton = true,\n  cartUpdate = false,\n  showRemoveProductButton = false,\n  setRun = f => f,\n  run = undefined\n  // changeCartSize\n}) => {\n  const [redirect, setRedirect] = useState(false);\n  const [count, setCount] = useState(product.count);\n\n  const showViewButton = showViewProductButton => {\n    return (\n      showViewProductButton && (\n        <Link to={`/product/${product._id}`} className=\"mr-2\">\n          <button className=\"btn btn-outline-primary mt-2 mb-2 card-btn-1\">View Product</button>\n        </Link>\n      )\n    );\n  };\n  const addToCart = () => {\n    // console.log('added');\n    addItem(product, setRedirect(true));\n  };\n\n  const shouldRedirect = redirect => {\n    if (redirect) {\n      return <Redirect to=\"/cart\" />;\n    }\n  };\n\n  const showAddToCartBtn = showAddToCartButton => {\n    return (\n      showAddToCartButton && (\n        <button onClick={addToCart} className=\"btn btn-outline-warning mt-2 mb-2 card-btn-1  \">\n          Add to cart\n        </button>\n      )\n    );\n  };\n\n  const showStock = quantity => {\n    return quantity > 0 ? (\n      <span className=\"badge badge-primary badge-pill\">In Stock </span>\n    ) : (\n      <span className=\"badge badge-primary badge-pill\">Out of Stock </span>\n    );\n  };\n\n  const handleChange = productId => event => {\n    setRun(!run); // run useEffect in parent Cart\n    setCount(event.target.value < 1 ? 1 : event.target.value);\n    if (event.target.value >= 1) {\n      updateItem(productId, event.target.value);\n    }\n  };\n\n  const showCartUpdateOptions = cartUpdate => {\n    return (\n      cartUpdate && (\n        <div>\n          <div className=\"input-group mb-3\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text\">Adjust Quantity</span>\n            </div>\n            <input type=\"number\" className=\"form-control\" value={count} onChange={handleChange(product._id)} />\n          </div>\n        </div>\n      )\n    );\n  };\n  const showRemoveButton = showRemoveProductButton => {\n    return (\n      showRemoveProductButton && (\n        <button\n          onClick={() => {\n            removeItem(product._id);\n            setRun(!run); // run useEffect in parent Cart\n          }}\n          className=\"btn btn-outline-danger mt-2 mb-2\"\n        >\n          Remove Product\n        </button>\n      )\n    );\n  };\n  return (\n    <div className=\"card \">\n      <div className=\"card-header card-header-1 \">{product.name}</div>\n      <div className=\"card-body\">\n        {shouldRedirect(redirect)}\n        <ShowImage item={product} url=\"product\" />\n        <p className=\"card-p  mt-2\">{product.description.substring(0, 100)} </p>\n        <p className=\"card-p black-10\">$ {product.price}</p>\n        <p className=\"black-9\">Category: {product.category && product.category.name}</p>\n        <p className=\"black-8\">Added on {moment(product.createdAt).fromNow()}</p>\n        {showStock(product.quantity)}\n        <br />\n\n        {showViewButton(showViewProductButton)}\n\n        {showAddToCartBtn(showAddToCartButton)}\n\n        {showRemoveButton(showRemoveProductButton)}\n\n        {showCartUpdateOptions(cartUpdate)}\n      </div>\n    </div>\n  );\n};\n\nexport default Card;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}